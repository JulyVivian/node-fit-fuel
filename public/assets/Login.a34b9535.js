import{_ as l}from"./Form.3c0f6149.js";import{t as p}from"./auth.d2d8facc.js";import{_ as d,d as g,u as m,o as F,c as B,a as f,p as h,b as C,e as t,f as D}from"./index.cb732601.js";import{s as u,h as E}from"./toast.c5b2ad34.js";import{u as v}from"./localStorage.68b6825f.js";import"./axios.74fc0aed.js";const r=o=>(h("data-v-38901bf2"),o=o(),C(),o),L={class:"login-container"},x=r(()=>t("h1",null,"\u5065\u5EB7\u751F\u6D3B\uFF0C\u4ECE\u73B0\u5728\u5F00\u59CB\uFF01",-1)),S=r(()=>t("p",{class:"to-reg"},[D("\u6CA1\u6709\u8D26\u53F7\uFF0C\u53BB"),t("a",{href:"/reg"},"\u6CE8\u518C")],-1)),b=g({__name:"Login",setup(o){const n=m(),{setLocalStorage:c}=v("token",""),i=async s=>{try{u("\u767B\u5F55\u4E2D...","loading","log");let{code:e,msg:_,data:a}=await p(s);e==="0000"?(console.log("token:::",a),c(a),u("\u767B\u5F55\u6210\u529F, \u5373\u5C06\u8DF3\u8F6C\u4E3B\u9875~","success","log"),setTimeout(()=>{E(),n.push("/list")},1e3)):u(_,"warning","log")}catch(e){console.log("login err::",e),u("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5","warning","log")}};return(s,e)=>(F(),B("div",L,[x,f(l,{btnText:"\u767B\u5F55",onOnSubmit:i}),S]))}});var V=d(b,[["__scopeId","data-v-38901bf2"]]);export{V as default};
